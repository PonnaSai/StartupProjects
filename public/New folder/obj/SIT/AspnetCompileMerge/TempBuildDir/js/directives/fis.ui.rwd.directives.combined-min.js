var fisUiRwdStarterKit=angular.module("fisUiRwdStarterKit");fisUiRwdStarterKit.directive("fisUiRwdDraggable",function(){return function(scope,element){var ff=navigator.userAgent.toLowerCase().indexOf("firefox");if(ff<0){var el=element[0];el.draggable=true;el.addEventListener("dragstart",function(e){e.dataTransfer.effectAllowed="move";e.dataTransfer.setData("Text",this.id);this.classList.add("drag");return false},false);el.addEventListener("dragend",function(e){this.classList.remove("drag");return false},false)}}});var fisUiRwdStarterKit=angular.module("fisUiRwdStarterKit");fisUiRwdStarterKit.directive("fisUiRwdDroppable",function(){return{scope:{drop:"&",bin:"="},link:function(scope,element){if(navigator.userAgent.toLowerCase().indexOf("firefox")<0){var el=element[0];var bg=el.style.background;el.addEventListener("dragover",function(e){e.dataTransfer.dropEffect="move";if(e.preventDefault){e.preventDefault()}this.style.background="lightblue";return false},false);el.addEventListener("dragenter",function(e){this.style.background="lightblue";return false},false);el.addEventListener("dragleave",function(e){this.classList.remove("over");this.style.background=bg;return false},false);el.addEventListener("drop",function(e){if(e.stopPropagation){e.stopPropagation()}this.style.background=bg;var binId=this.id;var item=document.getElementById(e.dataTransfer.getData("Text"));scope.$apply(function(scope){var fn=scope.drop();if("undefined"!==typeof fn){fn(item.id.substring(2),binId.substring(2))}});return false},false)}}}});var fisUiRwdStarterKit=angular.module("fisUiRwdStarterKit");fisUiRwdStarterKit.directive("fisUiRwdScopeElement",function(){var directiveDefinitionObject={restrict:"A",compile:function compile(tElement,tAttrs,transclude){return{pre:function preLink(scope,iElement,iAttrs,controller){scope[iAttrs.fisUiRwdScopeElement]=iElement}}}};return directiveDefinitionObject});var fisUiRwdStarterKit=angular.module("fisUiRwdStarterKit");fisUiRwdStarterKit.directive("fisNgValidateDateText",function($filter,$log,uibDatepickerPopupConfig){function datePickerToMomentFormat(datepickerStr){var retval=datepickerStr.toUpperCase();return retval}function placeholderToMomentFormat(placeholderStr){return placeholderStr}function notEmpty(val){var retval=((val!==null)&&(val!==undefined)&&(val!==""));return retval}function momentFormatToRegularExpression(momentFormat){var regExpText="^"+momentFormat.replace(new RegExp("([\\:\\;\\.\\,\\-\\/\\\\])","g"),"\\$1").replace("YYYY","((?!0000)\\d{4})").replace("YY","(0[1-9]|[1-9]\\d)").replace("DD","(0?[1-9]|[12][0-9]|3[0-1])").replace("MM","(0?[1-9]|1[0-2])")+"$";var regExp=new RegExp(regExpText,"");return regExp}return{restrict:"A",require:"ngModel",link:function(scope,element,attributes,control){function validateDate(modelValue){var value=control.$viewValue;var format;if(notEmpty(attributes.datepickerPopup)){format=datePickerToMomentFormat(attributes.datepickerPopup)}else{if(uibDatepickerPopupConfig&&notEmpty(uibDatepickerPopupConfig.datepickerPopup)){format=datePickerToMomentFormat(uibDatepickerPopupConfig.datepickerPopup)}else{if(notEmpty(attributes.placeholder)){format=placeholderToMomentFormat(attributes.placeholder)}else{format="MM/DD/YYYY"}}}var regExp=control.dateFormatRegExp;if(!regExp){regExp=momentFormatToRegularExpression(format);control.dateFormatRegExp=regExp}if((typeof value==="string")&&(value.trim().length>0)){var wasValid=!(control.$error.date);var isValid=wasValid;if(regExp){var matches=value.match(regExp);isValid=((matches!==undefined)&&(matches!==null)&&(1<=matches.length))}if(isValid){var dt=moment(value,format);isValid=dt.isValid()}if(isValid!=wasValid){control.$setValidity("date",isValid)}}return modelValue}control.$parsers.push(validateDate)}}});